$step: 28px;
$margin: 3vmin;

* {
  box-sizing: border-box;
}

html {
  // this is now my rem value
  // it's the body lineheight
  --font-size: calc(var(--device-width) * 0.07px);
  &.tablet {
    --font-size: calc(var(--device-width) * 0.04px);
  }



  // transition: font-size 0.2s;

  &.font-size-1 {
    --font-size: calc(var(--device-width) * 0.05px);
    &.tablet {
      --font-size: calc(var(--device-width) * 0.03px);
    }
  }

  &.font-size-2 {
    --font-size: calc(var(--device-width) * 0.06px);
    &.tablet {
      --font-size: calc(var(--device-width) * 0.035px);
    }
  }

  &.font-size-3 {
    --font-size: calc(var(--device-width) * 0.07px);
    &.tablet {
      --font-size: calc(var(--device-width) * 0.04px);
    }
  }

  &.font-size-4 {
    --font-size: calc(var(--device-width) * 0.08px);
    &.tablet {
      --font-size: calc(var(--device-width) * 0.045px);
    }
  }

  &.font-size-5 {
    --font-size: calc(var(--device-width) * 0.09px);
    &.tablet {
      --font-size: calc(var(--device-width) * 0.05px);
    }
  }

  font-size: var(--font-size);
}

body {
  margin: 0;
  padding: 0;
  font-family: "HelveticaNeue-Light", "Helvetica Neue Light", "Helvetica Neue", Helvetica, Arial, "Lucida Grande", sans-serif;
  width: 100vw;

  background-color: hsl(60, 17%, 96%);
  transition: background-color, color 0.2s;

  &, a, a:active, a:visited {
    color: hsl(0, 0%, 20%);
  }

  .dark-background & {
    background-color: hsl(240, 0%, 0%);
    &, a, a:active, a:visited {
      color: hsl(0, 0%, 80%);
    }
  }
}

.item {
  height: 100vh;
}

.itemArticle {
  padding: 0;
  margin: 0;
}

.cover, .body {
  position: relative;
  margin: 0;
  width: 100%;
  max-width: 100%;
}

.itemArticle, .itemArticle table {
  font-size: calc(1rem / 1.6) !important;
  line-height: 1rem !important;
  margin: 0;
  h1, h2, h3, h4, h5 {
    padding: 0;
    line-height: 1em;
    -webkit-hyphens: none;
    hyphens: none;
  }

  &.bodyFontSans1, &.bodyFontSans1 table {
    font-size: calc(1rem / 1.6) !important;
    line-height: 1rem !important;
  }

  &.bodyFontSerif1, &.bodyFontSerif1 table {
    font-size: calc(1rem / 1.8) !important;
    line-height: 1rem !important;
  }

  .android &.bodyFontSerif2, .android &.bodyFontSerif2 table {
    font-size: calc(1rem / 1.8) !important;
    line-height: 1rem !important;
  }

  .web &.bodyFontSerif2, .web &.bodyFontSerif2 table {
    font-size: calc(1rem / 1.8) !important;
    line-height: 1rem !important;
  }

  &.bodyFontSans3, &.bodyFontSans3 table {
    font-size: calc(1rem / 1.7) !important;
    line-height: 1rem !important;
  }

  &.bodyFontSerif3, &.bodyFontSerif3 table {
    font-size: calc(1rem / 1.7) !important;
    line-height: 1rem !important;
  }

  &.bodyFontSans4, &.bodyFontSans4 table {
    font-size: calc(1rem / 1.7) !important;
    line-height: 1rem !important;
  }

  &.bodyFontSerif4, &.bodyFontSerif4 table {
    font-size: calc(1rem / 1.65) !important;
    line-height: 1rem !important;
  }

  h1, h2, h3 {
    color: var(--feed-color);

    a {
      color: var(--feed-color) !important;
    }
  }

  h1, h2 {
    font-size: 1.2rem;
    line-height: 1.5rem;
    margin: 3rem 0 .5rem;
  }
  h2 {
    font-size: 1rem;
  }
  h2, h4 {
    font-weight: normal;
  }
  h3, h4 {
    font-size: 1rem;
    line-height: 1.33rem;
    margin: 2rem 0 0.2rem;
  }
  h4 {
    font-size: 0.75rem;
  }
  h5, h6 {
    font-size: calc(1rem / 1.7);
    line-height: 1rem;
    margin: 1rem 0 0;
  }
}

.itemArticle {
  position: relative;
  z-index: 10;
  padding: 2rem 4vw 3rem;
  width: 100vw;
  max-width: 24rem;
  margin: 0 auto;
  font-family: "Cochin", serif;
  -webkit-hyphens: auto;
  hyphens: auto;
  -webkit-text-size-adjust:none;

  p, center {
    margin: 0;
    margin-bottom: .666rem;
  }

  sup {
    line-height: 0;
  }

  img:not(.img-portrait):not(.img-small):not(.img-tiny), video, iframe:not(.instagram-media), pre {
    position: relative !important;
    max-width: 100vw;
    height: auto;
    margin: .666rem 0;
    border: 0;
  }

  img:not(.img-portrait):not(.img-small):not(.img-tiny), video, pre {
    height: auto !important;
  }


  // p figure:last-child,
  //   p img:last-child,
  //   p video:last-child,
  //   p iframe:last-child,
  //   p pre:last-child {
  //   margin-bottom: 0;
  // }

  img:not(.img-portrait):not(.img-small):not(.img-tiny), video, iframe, pre {
    width: 100vw;
    max-width: 100vw;
    width: 100vw !important;
    left: -4vw;
    overflow: scroll;

    @media (min-width: 600px) {
      left: calc(50% - 50vw);
      margin-right: calc(50% - 50vw) !important;
    }

    @media (min-width: 800px) {
      width: 100% !important;
      left: 0;
      margin-right: 0 !important;
    }

    // so that images don't get crazy big in landscape mode
    body.landscape & {
      width: 100% !important;
      left: 0;
      margin-right: 0 !important;
    }
  }

  // newsletters sometimes leave a gap
  // pretty sure this isn't relevant anymore
  // table {
  //   figure, img, video, iframe, pre {
  //     left: calc(-4vw - 1px);
  //   }
  // }



  .twitter-tweet iframe {
    @media (min-width: 600px) {
      left: auto;
      width: 100% important;
      max-width: 100%;
    }
  }

  pre {
    background-color: white;
    border-bottom: 1px solid hsl(0, 0%, 93%);
  }

  img.img-portrait, img.img-small {
    // display: block;
    margin: 0.5rem 0.5rem 1rem;
    max-width: calc(100vw - 1rem) !important;
    width: auto !important;

    // &.img-small {
    //   float: left;
    //   clear: left;
    //   margin: 0.25rem 1rem 1rem 0;
    //   left: 0;
    // }
  }

  figure img.img-portrait, figure img.img-small {
    width: calc(100% - 1rem);
    margin-bottom: 0;
  }

  // img.img-small {
  //   @media (min-width: 600px) {
  //     left: 0;
  //     float: left;
  //     margin-top: 0;
  //     margin-left: 0;
  //   }
  // }

  // figure handles its own margin
  figure img, figure iframe {
    margin: 0;
    left: 0;
    border-bottom: 0;
  }

  @media (min-width: 600px) {
    figure.figure-small {
      // width: calc(50% - 0.25rem) !important;
      // float: left;
      margin-right: 0.5rem;
      left: 0;

      figcaption {
        margin: 0;
        padding: .25rem .5rem;
      }

      img {
        width: 100% !important;
        margin-left: 0;
        margin-top: 0;
        float: none;
      }
    }

    p + figure.figure-small {
      margin-top: 0;
      margin-bottom: 0.5rem;
    }

  }

  &,
  & > *:not(figure):first-child,
  & > *:not(figure):first-child > *:not(figure):first-child,
  & > *:not(figure):first-child > *:not(figure):first-child > *:not(figure):first-child,
  & > *:not(figure):first-child > *:not(figure):first-child > *:not(figure):first-child > *:not(figure):first-child,
  & > *:not(figure):first-child > *:not(figure):first-child > *:not(figure):first-child > *:not(figure):first-child > *:not(figure):first-child,
  & > *:not(figure):first-child > *:not(figure):first-child > *:not(figure):first-child > *:not(figure):first-child > *:not(figure):first-child > *:not(figure):first-child,
  & > *:not(figure):first-child > *:not(figure):first-child > *:not(figure):first-child > *:not(figure):first-child > *:not(figure):first-child > *:not(figure):first-child > *:not(figure):first-child {
    & > figure:first-child,
    & > img:first-child:not(.img-small) {
      position: relative;
      top: -2rem;
      margin-top: 0;
      margin-bottom: 0rem;
    }
    & > iframe:first-child,
    & > p:first-child > iframe:first-child {
      margin-top: 0;
    }
    & > img.img-portrait:first-child:not(.img-small) {
      top: -1.5rem;
    }
  }

  & > *:empty,
  & > *:empty:first-child + *:first-of-type,
  & > *:first-child > *:empty,
  & > *:first-child > *:first-child > *:empty,
  & > *:first-child > *:first-child > *:first-child > *:empty {
    & + figure:first-child,
    & + img:first-child {
      position: relative;
      top: -2rem;
      margin-top: 0;
      margin-bottom: 0;
    }
  }


  /* gambling that it's a video */
  *:not(.twitter-tweet) > iframe:not(.instagram-media), iframe video {
    height: 55vw !important;
  }

  blockquote, .pullquote, aside {
    margin: 0 0 1rem;
    font-size: 0.55rem;
    line-height: 1rem;
    // background-color: rgba(255, 255, 255, 0.5);
    // left: -0.5rem;
    // width: 100vw;
    padding: 1rem 0;
    // display: block;
    position: relative;
    -webkit-hyphens: none;
    hyphens: none;

    blockquote, .pullquote, aside {
      margin: 0;
      padding-top: 1rem;
      padding-bottom: 1rem;
      position: relative;
    }

    & > p:last-of-type {
      margin-bottom: 0;
    }

    // @media (min-width: 600px) {
    //   & {
    //     width: 100%;
    //   }
    // }

    &.is-quote p:first-child {
      text-indent: -0.45em;
    }

    &::after {
      content: "";
      display: block;
      background-color: rgba(255, 255, 255, 0.75);
      width: 100vw;
      height: 100%;
      left: calc(50% - 50vw);
      position: absolute;
      z-index: -1;
      top: 0;
    }
  }

  .pullquote, aside {
    color: white;
    &::after {
      background-color: var(--feed-color);
    }
  }

  blockquote.short-blockquote, .pullquote, aside {
    // color: white;
    // color: var(--feed-color);
    border: none;
    font-size: 1rem;
    line-height: 1.33rem;
    font-style: normal;
    padding: 1rem 1.5rem 1rem 1rem;
    margin: 1rem 0;
    text-align: left;

    a {
      color: var(--feed-color) !important;
    }
  }

  figure cite {
    display: none;
  }

  figcaption, .caption, .img-caption, .img-caption__desc, img + small {
    position: relative;
    padding: .25rem .5rem;
    font-size: 0.5rem;
    font-weight: 300;
    line-height: 0.67rem;
    color: hsl(0, 0%, 50%);
    position: relative;
    text-align: left;

    & a {
      color: hsl(0, 0%, 50%);
    }
  }

  *:not(figcaption) > *:not(figcaption).caption:not(figcaption) {
    display: block;
    margin: -0.666rem -4vw 1.666rem;

    + .caption:not(figcaption) {
      margin-top: -1.666rem;
    }
  }

  // @media (min-width: 600px) {
  //   figcaption, blockquote, .caption, img + small {
  //     margin: 0 -4vw;
  //     padding: 1rem 4vw;
  //     left: 0;
  //   }
  //   figcaption, .caption, img + small {
  //     padding: .25rem calc(50vw - 50%) .5rem;
  //     margin: 0 4vw;
  //     text-align: center;
  //   }
  // }

  img + small {
    display: block;
    margin: -2.25rem -4vw 1rem;
  }

  // blockquote:not(.pullquote) {
  //   @media (min-width: 600px) {
  //     margin-bottom: 1rem;
  //     left: calc(50% - 50vw);
  //     margin: 0 0 1rem;
  //     padding: 1rem calc(50vw - 50%);
  //     width: 100vw;
  //   }
  // }

  // fade on scroll
  // blockquote, figure {
  //   opacity: 1;
  //   transition: opacity 2s;

  //   &:not(in-viewport) {
  //     opacity: 0;
  //   }
  // }

  a.unused, a.unused:active, a.unused:visited {
    color: inherit !important;
    /*text-decoration: none;*/
    background-image: linear-gradient(to bottom, hsla(0, 0%, 0%, 0) 19px, hsla(60, 100%, 39%, 0.3) 19px, hsla(60, 100%, 39%, 0.3) 24px);
    /*display: inline-block;*/
    /*padding-bottom: 0;*/
    /*line-height: .5;*/

    img {
      /* hide link gradient */
      margin-bottom: -6px;
    }
  }

  figure {
    padding: 0;
    margin: 1rem 0;
    text-align: center;
  }

  iframe {
    max-width: 100%;
  }

  twitter-widget {
    margin: 4vw auto !important;
  }

  .twitter-tweet {
    display: block !important;
  }

  pre {
    font-size: 14px;
    line-height: 1.4;
    overflow: scroll;
    color: hsl(0, 0%, 20%);
    padding: $step * .5;
  }

  // breaks between sections
  // & > div + div:not(:first-of-type) {

    // &:before {
    //   content: '';
    //   height: 16px;
    //   display: block;
    //   margin: 0 calc(50% - 33px) 2rem;
    //   transform: rotateZ(-30deg);
    // }

    // &:nth-of-type(4n+1):before {
    //   transform: rotateZ(0deg);
    // }

    // &:nth-of-type(4n+2):before {
    //   transform: rotateZ(30deg);
    // }

    // &:nth-of-type(4n+3):before {
    //   transform: rotateZ(90deg);
    // }

    // &:nth-of-type(4n+4):before {
    //   transform: rotateZ(150deg);
    // }

    // & > p:first-of-type {
    //   margin-top: $step * 4
    // }
  // }

  ul, ol {
    list-style-type: none;
    padding-left: 0;
  }

  li {
    padding: 0 0 .5rem;

    &:before {
      width: 0.4rem;
      content: "";
      float: left;
      height: .15rem;
      margin-right: .2rem;
      margin-bottom: .1rem;
      margin-top: .4rem;
      border-radius: .075rem;
    }
  }

  ul li:before, ol li:before {
    background-color: var(--feed-color);
  }

  // guardian specific stuff
  header {
    font-weight: 500;
  }
  figure input {
    display: none;
  }

  // for newsletters
  table, th, td {
    max-width: 92vw !important;
  }

  .dark-background & {
    img:not(.img-portrait):not(.img-small), video, iframe, pre {
      border-bottom: 1px solid hsl(0, 0%, 7%);
    }

    blockquote {
      border-top: 1px solid rgba(0, 0, 0, 0.1);
    }

    blockquote, figcaption, img + small {
      border-bottom: 3px solid rgba(0, 0, 0, 0.1);
    }

    figcaption, img + small {
      color: hsl(0, 0%, 80%);
    }

    blockquote:not(.pullquote) {
      background-color: hsl(241, 4%, 11%);
      color: hsl(0, 0%, 90%) !important;

      &::after {
        background-color: hsl(241, 4%, 11%);
      }
    }

    pre {
      background-color: hsl(241, 4%, 11%);
      color: hsl(0, 0%, 80%);
    }
  }
}

article {
  margin-bottom: $step * 6;
}

hr {
  margin-bottom: 1.5rem;
  margin-top: 1.5rem;
  width: 100px;
  height: 16px;
  border-radius: 8px;
  background-color: var(--feed-color);
  border: 0;
}

@mixin firstLineFontFamily($fontFamily) {
  .itemArticle {
    & > p:not(.short-para):first-of-type,
    & > div:first-of-type > p:not(.short-para):first-of-type,
    & > div:first-of-type > div:first-of-type > p:not(.short-para):first-of-type {
      &:first-line {
        font-family: $fontFamily;
      }
    }
  }
}

@mixin firstShortParaBold($fontFamily, $fontFamilyItalic) {
    > p:first-of-type.short-para:not(.ends-with-colon) {
      font-family: $fontFamily;
      color: var(--feed-color);
      font-size: 1.2em;

      em, i, strong, b {
        font-family: $fontFamilyItalic;
        font-style: normal;
      }
      a {
        color: var(--feed-color);
      }
    }
}

@mixin dropCapFontSize($size) {
  &,
  & > div:first-of-type,
  & > div:first-of-type > div:first-of-type {
    & > p:not(.short-para):first-of-type:first-letter {
      font-size: $size;
    }
  }
}

@mixin dropCapMarginTop($margin) {
  &,
  & > div:first-of-type,
  & > div:first-of-type > div:first-of-type {
    & > p:not(.short-para):first-of-type:first-letter {
      margin-top: $margin;
    }
  }
}

.itemArticle {
  & > p:not(.short-para):first-of-type,
  & > div:first-of-type > p:not(.short-para):first-of-type,
  & > div:first-of-type > div:first-of-type > p:not(.short-para):first-of-type {

    // margin-top: 2rem;

    &:first-letter {
      font-size: 4rem;
      line-height: .6;
      display: block;
      margin-right: 0.1rem;
      text-decoration: none;
    }

    &.firstPara {
      border-top: 0;
      padding-top: 0;
    }

    & > em:first-letter {
      font-size: inherit;
    }
  }

  &.dropCapIsDrop {
    &,
      & > div:first-of-type,
      & > div:first-of-type > div:first-of-type {
      & > p:not(.short-para):first-of-type:first-letter {
        margin-top: 0;
        float: left;
      }
    }
  }

  &.dropCapSize2 {
    &.bodyFontSerif1, .android &.bodyFontSerif2 {
      @include dropCapFontSize(1.825rem);
      @include dropCapMarginTop(0.46rem);
    }
    &.bodyFontSerif2 {
      @include dropCapFontSize(2.05rem);
      @include dropCapMarginTop(0.35rem);
    }
    &.bodyFontSerif3 {
      @include dropCapFontSize(1.95rem);
      @include dropCapMarginTop(0.33rem);
    }
    &.bodyFontSerif4 {
      @include dropCapFontSize(1.9rem);
      @include dropCapMarginTop(0.47rem);
    }
    &.bodyFontSans1 {
      @include dropCapFontSize(1.95rem);
      @include dropCapMarginTop(0.35rem);
    }
    &.bodyFontSans2 {
      @include dropCapFontSize(1.95rem);
      @include dropCapMarginTop(0.4rem);
    }
    &.bodyFontSans3 {
      @include dropCapFontSize(2rem);
      @include dropCapMarginTop(0.3rem);
    }
    &.bodyFontSans4 {
      @include dropCapFontSize(1.95rem);
      @include dropCapMarginTop(0.42rem);
    }
  }

  &.dropCapSize3 {
    &.bodyFontSerif1, .android &.bodyFontSerif2 {
      @include dropCapFontSize(3.05rem);
      @include dropCapMarginTop(0.6rem);
    }
    &.bodyFontSerif2 {
      @include dropCapFontSize(3.37rem);
      @include dropCapMarginTop(0.43rem);
    }
    &.bodyFontSerif3 {
      @include dropCapFontSize(3.36rem);
      @include dropCapMarginTop(0.36rem);
    }
    &.bodyFontSerif4 {
      @include dropCapFontSize(3.15rem);
      @include dropCapMarginTop(0.63rem);
    }
    &.bodyFontSans1 {
      @include dropCapFontSize(3.38rem);
      @include dropCapMarginTop(0.37rem);
    }
    &.bodyFontSans2 {
      @include dropCapFontSize(3.35rem);
      @include dropCapMarginTop(0.54rem);
    }
    &.bodyFontSans3 {
      @include dropCapFontSize(3.42rem);
      @include dropCapMarginTop(0.325rem);
    }
    &.bodyFontSans4 {
      @include dropCapFontSize(3.3rem);
      @include dropCapMarginTop(0.55rem);
    }
  }

  &.dropCapSize4 {
    &.bodyFontSerif1, .android &.bodyFontSerif2 {
      @include dropCapFontSize(4.3rem);
      @include dropCapMarginTop(0.75rem);
    }
    &.bodyFontSerif2 {
      @include dropCapFontSize(4.78rem);
      @include dropCapMarginTop(0.41rem);
    }
    &.bodyFontSerif3 {
      @include dropCapFontSize(4.73rem);
      @include dropCapMarginTop(0.4rem);
    }
    &.bodyFontSerif4 {
      @include dropCapFontSize(4.45rem);
      @include dropCapMarginTop(0.75rem);
    }
    &.bodyFontSans1 {
      @include dropCapFontSize(4.73rem);
      @include dropCapMarginTop(0.41rem);
    }
    &.bodyFontSans2 {
      @include dropCapFontSize(4.65rem);
      @include dropCapMarginTop(0.64rem);
    }
    &.bodyFontSans3 {
      @include dropCapFontSize(4.85rem);
      @include dropCapMarginTop(0.325rem);
    }
    &.bodyFontSans4 {
      @include dropCapFontSize(4.55rem);
      @include dropCapMarginTop(0.7rem);
    }
  }

  &.dropCapSize5 {
    &.bodyFontSerif1, .android &.bodyFontSerif2 {
      @include dropCapFontSize(5.6rem);
      @include dropCapMarginTop(0.9rem);
    }
    &.bodyFontSerif2 {
      @include dropCapFontSize(6.18rem);
      @include dropCapMarginTop(0.51rem);
    }
    &.bodyFontSerif3 {
      @include dropCapFontSize(6.13rem);
      @include dropCapMarginTop(0.42rem);
    }
    &.bodyFontSerif4 {
      @include dropCapFontSize(5.8rem);
      @include dropCapMarginTop(0.9rem);
    }
    &.bodyFontSans1 {
      @include dropCapFontSize(6.13rem);
      @include dropCapMarginTop(0.44rem);
    }
    &.bodyFontSans2 {
      @include dropCapFontSize(6.1rem);
      @include dropCapMarginTop(0.77rem);
    }
  }

  &.dropCapSize6 {
    &.bodyFontSerif1, .android &.bodyFontSerif2 {
      @include dropCapFontSize(6.75rem);
      @include dropCapMarginTop(1.03rem);
    }
    &.bodyFontSerif2 {
      @include dropCapFontSize(7.62rem);
      @include dropCapMarginTop(0.55rem);
    }
    &.bodyFontSerif3 {
      @include dropCapFontSize(7.58rem);
      @include dropCapMarginTop(0.56rem);
    }
    &.bodyFontSerif4 {
      @include dropCapFontSize(7rem);
      @include dropCapMarginTop(1.1rem);
    }
    &.bodyFontSans1 {
      @include dropCapFontSize(7.5rem);
      @include dropCapMarginTop(0.475rem);
    }
    &.bodyFontSans2 {
      @include dropCapFontSize(7.45rem);
      @include dropCapMarginTop(0.92rem);
    }
  }

  &.dropCapSize7 {
    @include dropCapFontSize(7.1rem);
    @include dropCapMarginTop(0.6rem);
  }

  // this :not(.dropCapIsStroke) is to avoid a Safari bug
  // where the outline gets doubled
  &.dropCapIsBold:not(.dropCapIsStroke), .android &.dropCapIsBold {
    &,
      & > div:first-of-type,
      & > div:first-of-type > div:first-of-type {
      & > p:not(.short-para):first-of-type:first-letter {
        font-weight: 700;
      }
    }
  }
}

.single-char-para {
  text-align: center;
  margin: 2rem;
}

.bodyFontSerif1 {
  font-family: "LibreBaskerville-Regular", serif;

  em, i {
    font-family: "LibreBaskerville-Italic";
    font-style: normal;
  }

  strong, b {
    font-family: "LibreBaskerville-Bold";
    font-weight: normal;
  }

  strong em, em strong, b i, i b {
    font-family: "LibreBaskerville-Italic", sans-serif;
    font-style: normal;
    font-weight: normal;
  }

  @include firstLineFontFamily("LibreBaskerville-Bold");
  @include firstShortParaBold("LibreBaskerville-Bold", "LibreBaskerville-Italic")
}

.bodyFontSans1 {
  font-family: "IBMPlexSans", sans-serif;

  em, i {
    font-family: "IBMPlexSans-Italic", sans-serif;
    font-style: normal;
  }

  strong, b {
    font-family: "IBMPlexSans-Bold", sans-serif;
    font-weight: normal;
  }

  strong em, em strong, b i, i b {
    font-family: "IBMPlexSans-BoldItalic", sans-serif;
    font-style: normal;
    font-weight: normal;
  }

  @include firstLineFontFamily("IBMPlexSans-Bold");
  @include firstShortParaBold("IBMPlexSans-Bold", "IBMPlexSans-BoldItalic")
}

.bodyFontSerif2 {
  font-family: "Iowan Old Style", "Cardo", serif;

  em, i {
    font-family: "IowanOldStyle-Italic", "Cardo-Italic", sans-serif;
    font-style: normal;
  }

  strong, b {
    font-family: "IowanOldStyle-Bold", "Cardo-Bold", sans-serif;
    font-weight: normal;
  }

  strong em, em strong, b i, i b {
    font-family: "IowanOldStyle-BoldItalic", "Cardo-Bold", sans-serif;
    font-style: normal;
    font-weight: normal;
  }

  @include firstLineFontFamily("IowanOldStyle-Bold, Cardo-Bold");
  @include firstShortParaBold("IowanOldStyle-Bold, Cardo-Bold", "IowanOldStyle-BoldItalic, Cardo-Bold");

  .android &, .web & {
    font-family: "LibreBaskerville-Regular", serif;

    em, i {
      font-family: "LibreBaskerville-Italic", sans-serif;
      font-style: normal;
    }

    strong, b {
      font-family: "LibreBaskerville-Bold", sans-serif;
      font-weight: normal;
    }

    strong em, em strong, b i, i b {
      font-family: "LibreBaskerville-BoldItalic", sans-serif;
      font-style: normal;
      font-weight: normal;
    }

    @include firstLineFontFamily("LibreBaskerville-Bold");
    @include firstShortParaBold("LibreBaskerville-Bold", "LibreBaskerville-BoldItalic")
  }
}

.bodyFontSans2 {
  font-family: "AvenirNext-Regular", serif;

  em, i {
    font-family: "AvenirNext-Italic", sans-serif;
    font-style: normal;
  }

  strong, b {
    font-family: "AvenirNext-Bold", sans-serif;
    font-weight: normal;
  }

  strong em, em strong, b i, i b {
    font-family: "AvenirNext-BoldItalic", sans-serif;
    font-style: normal;
    font-weight: normal;
  }

  @include firstLineFontFamily("AvenirNext-Bold");
  @include firstShortParaBold("AvenirNext-Bold", "AvenirNext-BoldItalic");

  .android &, .web & {
    font-family: "NunitoSans-Regular", serif;

    em, i {
      font-family: "NunitoSans-Italic", sans-serif;
      font-style: normal;
    }

    strong, b {
      font-family: "NunitoSans-Bold", sans-serif;
      font-weight: normal;
    }

    strong em, em strong, b i, i b {
      font-family: "NunitoSans-BoldItalic", sans-serif;
      font-style: normal;
      font-weight: normal;
    }

    @include firstLineFontFamily("NunitoSans-Bold");
    @include firstShortParaBold("NunitoSans-Bold", "NunitoSans-BoldItalic")
  }
}

.bodyFontSerif3 {
  font-family: "IBMPlexSerif", serif;

  em, i {
    font-family: "IBMPlexSerif-Italic", sans-serif;
    font-style: normal;
  }

  strong, b {
    font-family: "IBMPlexSerif-Bold", sans-serif;
    font-weight: normal;
  }

  strong em, em strong, b i, i b {
    font-family: "IBMPlexSerif-BoldItalic", sans-serif;
    font-style: normal;
    font-weight: normal;
  }

  @include firstLineFontFamily("IBMPlexSerif-Bold");
  @include firstShortParaBold("IBMPlexSerif-Bold", "IBMPlexSerif-BoldItalic")
}

.bodyFontSans3 {
  font-family: "Montserrat-Regular", serif;

  em, i {
    font-family: "Montserrat-Italic", sans-serif;
    font-style: normal;
  }

  strong, b {
    font-family: "Montserrat-Bold", sans-serif;
    font-weight: normal;
  }

  strong em, em strong, b i, i b {
    font-family: "Montserrat-BoldItalic", sans-serif;
    font-style: normal;
    font-weight: normal;
  }

  @include firstLineFontFamily("Montserrat-Bold");
  @include firstShortParaBold("Montserrat-Bold", "Montserrat-BoldItalic")
}

.bodyFontSerif4 {
  font-family: "Reforma1969-Blanca", serif;

  em, i {
    font-family: "Reforma1969-BlancaItalica", sans-serif;
    font-style: normal;
  }

  strong, b {
    font-family: "Reforma1969-Negra", sans-serif;
    font-weight: normal;
  }

  strong em, em strong, b i, i b {
    font-family: "Reforma1969-NegraItalica", sans-serif;
    font-style: normal;
    font-weight: normal;
  }

  @include firstLineFontFamily("Reforma1969-Negra");
  @include firstShortParaBold("Reforma1969-Negra", "Reforma1969-NegraItalica")
}

.bodyFontSans4 {
  font-family: "Reforma2018-Blanca", serif;

  em, i {
    font-family: "Reforma2018-BlancaItalica", sans-serif;
    font-style: normal;
  }

  strong, b {
    font-family: "Reforma2018-Negra", sans-serif;
    font-weight: normal;
  }

  strong em, em strong, b i, i b {
    font-family: "Reforma2018-NegraItalica", sans-serif;
    font-style: normal;
    font-weight: normal;
  }

  @include firstLineFontFamily("Reforma2018-Negra");
  @include firstShortParaBold("Reforma2018-Negra", "Reforma2018-NegraItalica")
}


// HEADER FONTS

h1, h2, h3, h4, h5, b, strong {
  font-weight: normal;
}

.headerFontSans1 {
  h1, h3, h5 {
    font-family: "AvenirNextCondensed-Bold";
    .web &, .android & {
      font-family: "NunitoSans-Bold";
    }

    b, strong {
      font-family: "AvenirNextCondensed-BoldItalic";
      .web &, .android & {
        font-family: "NunitoSans-BoldItalic";
      }
    }

  }
  // .web &.isItalic h1 {
  //   font-style: italic;
  // }
  h2, h4 {
    font-family: "AvenirNext-Medium";
    .web &, .android & {
      font-family: "NunitoSans-Regular";
    }

    b, strong {
      font-family: "AvenirNext-MediumItalic";
      .web &, .android & {
        font-family: "NunitoSans-Italic";
      }

    }
  }
  figcaption, img + small, .caption, .img-caption, .img-caption__desc, blockquote:not(.short-blockquote):not(.pullquote) {
    font-family: "AvenirNext-MediumItalic";
    .web &, .android & {
      font-family: "NunitoSans-Italic";
    }

    em, i {
      font-family: "AvenirNext-Medium";
      .web &, .android & {
        font-family: "NunitoSans-Regular";
      }
    }

    strong, b {
      font-family: "AvenirNext-BoldItalic";
      .web &, .android & {
        font-family: "NunitoSans-BoldItalic";
      }
    }

    em strong, strong em, b i, i b {
      font-family: "AvenirNext-Bold";
      .web &, .android & {
        font-family: "NunitoSans-Bold";
      }
    }
  }
  &.itemTitle p {
    font-family: "Lato";
    font-weight: 300;
    em, i {
      font-family: "Lato";
    }

    strong, b {
      font-family: "Lato";
      font-weight: 700;
    }

    em strong, strong em, i b, b i {
      font-family: "Lato";
      font-weight: 700,

    }
  }
}

.headerFontSans2 {
  h1, h3, h5 {
    font-family: "Poppins-ExtraBold";

    b, strong, i {
      font-family: "Poppins-ExtraBoldItalic";
    }
  }
 .web &.isItalic h1 {
    font-family: "Poppins-ExtraBoldItalic";
  }
  h2, h4 {
    font-family: "Poppins-Regular";

    b, strong, i {
      font-family: "Poppins-Italic";
    }
  }
  figcaption, img + small, .caption, .img-caption, .img-caption__desc, blockquote:not(.short-blockquote):not(.pullquote) {
    font-family: "Poppins-Italic";

    em, i {
      font-family: "Poppins-Regular";
    }

    strong, b {
      font-family: "Poppins-ExtraBoldItalic";
    }

    em strong, strong em, b i, i b {
      font-family: "Poppins-ExtraBold";
    }
  }
  &.itemTitle p {
    font-family: "Poppins";
    em, i {
      font-family: "Poppins-Italic";
    }

    strong, b {
      font-family: "Poppins-Bold";
    }

    em strong, strong em, i b, b i {
      font-family: "Poppins-BoldItalic";
    }
  }
}

.headerFontSans3 {
  h1, h3, h5 {
    font-family: "Montserrat-Bold";

    b, strong {
      font-family: "Montserrat-BoldItalic";
    }
  }
 .web &.isItalic h1 {
    font-family: "Montserrat-BoldItalic";
  }
  h2, h4 {
    font-family: "Montserrat-Regular";

    b, strong {
      font-family: "Montserrat-Italic";
    }
  }
  figcaption, img + small, .caption, .img-caption, .img-caption__desc, blockquote:not(.short-blockquote):not(.pullquote) {
    font-family: "Montserrat-Italic";

    em, i {
      font-family: "Montserrat-Regular";
    }

    strong, b {
      font-family: "Montserrat-BoldItalic";
    }
  }
  &.itemTitle p {
    font-family: "Montserrat-Regular";
    em, i {
      font-family: "Montserrat-Italic";
    }

    strong, b {
      font-family: "Montserrat-Bold";
    }

    em strong, strong em, i b, b i {
      font-family: "Montserrat-BoldItalic";
    }
  }
}

.headerFontSans4 {
  h1, h3, h5 {
    font-family: "Reforma2018-Negra";

    b, strong {
      font-family: "Reforma2018-NegraItalica";
    }
  }
 .web &.isItalic h1 {
    font-family: "Reforma2018-NegraItalica";
  }
  h2, h4 {
    font-family: "Reforma2018-Blanca";

    b, strong {
      font-family: "Reforma2018-BlancaItalica";
    }
  }
  figcaption, img + small, .caption, .img-caption, .img-caption__desc, blockquote:not(.short-blockquote):not(.pullquote) {
    font-family: "Reforma2018-BlancaItalica";

    em, i {
      font-family: "Reforma2018-Blanca";
    }

    strong, b {
      font-family: "Reforma2018-NegraItalica";
    }
  }
  &.itemTitle p {
    font-family: "Reforma2018-Blanca";
    em, i {
      font-family: "Reforma2018-BlancaItalica";
    }

    strong, b {
      font-family: "Reforma2018-Negra";
    }

    em strong, strong em, i b, b i {
      font-family: "Reforma2018-NegraItalica";
    }
  }
}

.headerFontSerif1, .headerFontSerif3 {
  h1, h3, h5 {
    font-family: "PlayfairDisplay-Bold";

    b, strong {
      font-family: "PlayfairDisplay-BoldItalic";
    }
  }
 .web &.isItalic h1 {
    font-family: "IBMPlexSerif-BoldItalic";
  }
  h2, h4 {
    font-family: "PlayfairDisplay-Regular";

    b, strong {
      font-family: "PlayfairDisplay-RegularItalic";
    }
  }
  figcaption, img + small, .caption, .img-caption, .img-caption__desc, blockquote:not(.short-blockquote):not(.pullquote) {
    font-family: "IBMPlexSerif-Italic";

    em, i {
      font-family: "IBMPlexSerif";
    }

    strong, b {
      font-family: "IBMPlexSerif-BoldItalic";
    }

    em strong, strong em, i b, b i {
      font-family: "PlayfairDisplay-Bold";
    }
  }
  &.itemTitle p {
    font-family: "IBMPlexSerif";
    em, i {
      font-family: "IBMPlexSerif-Italic";
    }

    strong, b {
      font-family: "IBMPlexSerif-Bold";
    }

    em strong, strong em, i b, b i {
      font-family: "IBMPlexSerif-BoldItalic";
    }
  }
}

.headerFontSerif2, .headerFontSerif4 {
  h1, h3, h5 {
    font-family: "Reforma1969-Negra";

    b, strong {
      font-family: "Reforma1969-NegraItalica";
    }
  }
 .web &.isItalic h1 {
    font-family: "Reforma1969-NegraItalica";
  }
  h2, h4 {
    font-family: "Reforma1969-Blanca";

    b, strong {
      font-family: "Reforma1969-BlancaItalica";
    }
  }
  figcaption, img + small, .caption, .img-caption, .img-caption__desc, blockquote:not(.short-blockquote):not(.pullquote) {
    font-family: "Reforma1969-BlancaItalica";

    em, i {
      font-family: "Reforma1969-Blanca";
    }

    strong, b {
      font-family: "Reforma1969-NegraItalica";
    }
  }
  &.itemTitle p {
    font-family: "Reforma1969-Blanca";
    em, i {
      font-family: "Reforma1969-BlancaItalica";
    }

    strong, b {
      font-family: "Reforma1969-Negra";
    }

    em strong, strong em, i b, b i {
      font-family: "Reforma1969-NegraItalica";
    }
  }
}

.feedflare, .mc-embed-signup {
  display: none !important;
}

.itemArticle {
  a, a:active, a:visited {
    text-decoration-color: var(--feed-color);
    -webkit-text-decoration-color: var(--feed-color);
    // border-bottom: 2px solid var(--feed-color);
  }

  // blockquote.short-blockquote { //, .pullquote, aside {
  //   color: var(--feed-color);
  //   a {
  //     color: var(--feed-color) !important;
  //   }
  // }

  *:not(:first-of-type) div,
    * div:not(:first-of-type),
    div:not(:first-of-type) {
    &:before {
      background-color: var(--feed-color);
    }
  }

  html:not(.dark-background) &:not(.dropCapIsMonochrome) {
    & > p:not(.short-para):first-of-type,
      & > div:first-of-type > p:not(.short-para):first-of-type,
      & > div:first-of-type > div:first-of-type > p:not(.short-para):first-of-type {
      &:first-letter {
        color: var(--feed-color);
      }
    }
  }

  html:not(.android) > body:not(.web) &.dropCapIsStroke {
     & > p:not(.short-para):first-of-type,
      & > div:first-of-type > p:not(.short-para):first-of-type,
      & > div:first-of-type > div:first-of-type > p:not(.short-para):first-of-type {
      &:first-letter {
        color: transparent;
        -webkit-text-stroke: 2px #444444;
      }

      .dark-background & {
        color: #ddd;
      }

    }
  }

  html:not(.android) body:not(.web) &.dropCapIsStroke:not(.dropCapIsMonochrome) {
     & > p:not(.short-para):first-of-type,
      & > div:first-of-type > p:not(.short-para):first-of-type,
      & > div:first-of-type > div:first-of-type > p:not(.short-para):first-of-type {
      &:first-letter {
        -webkit-text-stroke-color: var(--feed-color);
      }
    }
  }
}

body .itemArticle.dropCapIsMonochrome > p:not(.short-para):first-of-type:first-letter {
  color: #000;

  .dark-background & {
    color: #ddd;
  }
}

.highlight {
  background-color: rgba(200, 200, 100, 0.5);
}

.highlighter {
  background-color: rgba(220, 220, 50, 1);
  // box-shadow: #000;
}

@mixin ipad {
  @media only screen
  and (min-device-width : 768px)
  and (max-device-width : 1024px)
  and (-webkit-max-device-pixel-ratio: 2) {
    @content;
  }
}

@mixin se {
  @media only screen
  and (min-device-width : 320px)
  and (max-device-width : 376px)
  and (-webkit-max-device-pixel-ratio: 2) {
    @content;
  }
}

// newsletter stuff
.newsletter {
  table {
    padding: 0;
    -webkit-border-horizontal-spacing: 0;
    width: 92vw;
    max-width: 92vw;
    padding: 0 4vw;
    margin-left: calc(50% - 50vw);

    table {
      padding: 0;
      margin: 0;
    }
  }

  // this is a kludge: the device width is supposed to approximate 24rems
  // but the rem actually changes according to the font size
  @media only screen and (min-device-width: 600px) {
    table, td {
      max-width: calc(24rem - 4vw) !important;
      width: calc(24rem - 4vw) !important;
      margin-left: calc(50% - 12rem - 2vw)
    }
  }
}

// substack stuff

.itemArticle table.email-body-container {
  // width: 90vw !important;

  // td {
  //   padding: 0;
  // }

  .subscribe-widget, .powered-by-substack {
    display: none;
  }

  // this hides all the buttons and author photo at the top
  // not sure I really want to hide all that, but it's just annoying right now
  .post-header {
    display: none;
  }

  .post-header, .email-ufi-2-bottom {
    padding-bottom: 4vw;

    .post-title, .subtitle {
      display: none;
    }

    table, td, tr, img {
      // 83 just looks about right :shrug:
      max-width: 83vw !important;
      width: auto !important;
      margin: 0 !important;
      // padding: 0 !important;
      display: inline;
    }

    table.post-meta td > a > img.custom-css-email-avatar {
      width: 50px !important;
      height: 50px !important;
      border-radius: 25px !important;
    }

    a.email-icon-button {
      width: 34px;
      height: 34px;
      border: 1px solid #666;
      display: block;
      border-radius: 17px;

      & > .icon {
        width: 20px !important;
        margin: 6px 0 0 6px !important;
        left: 0;
      }
    }

    a.email-button-outline {
      width: 100px;
      display: flex;
      flex-direction: row;
      justify-content: center;
      align-items: center;

      > .email-button-text {
        font-size: .4rem;
      }

      > .icon {
        width: 30px !important;
        margin: 0;
        margin-right: 0px;
        left: 0;
      }
    }
  }

  // substack's weird caption then image thing
  figure:has(figcaption + img) {
    display: flex;
    flex-direction: column;

    figcaption {
      order: 2;
    }

    img {
      order: 1;
    }
  }

}


html.onboarding {

  --logo1: hsl(186, 40%, 50%);
  --logo2: hsl(360, 70%, 60%);
  --logo3: hsl(260, 30%, 30%);
  --bg: hsl(46, 23%, 83%);
  --text: hsl(300, 20%, 20%);

  &.onboarding-1 {
    --text: white;
  }

  &.dark-background {
    --text: hsl(300, 20%, 90%);
  }

  // this is now my rem value
  // it's the body lineheight
  font-size: calc(7vw);
  @include ipad {
    font-size: calc(4vw);
  }

  body {
    margin: 0;
    // font-family: "IBMPlexMono";
    width: 100vw;
    background-color: var(--bg);
    color: white;
    overflow: hidden;
    // overflow: scroll;
    // display: flex;
    // align-items: center;
    // justify-content: center;
    // padding-top: 200;
  }

  .bg1 {
    position: relative;
    overflow:hidden;
    // width: 100%;
    height: 100%;  
    width: 10000px;
    background-image: url("../img/ream@2x.png");
    background-size: 20000px;
    background-position: 50% 50%;
    animation: floating 20s infinite alternate;
  }


  .bg1:before {
    content: "";
    z-index: -1;
    position: absolute;
    display: block;
    top: 0;
    left: 0;
    bottom: 0;
  }

  @keyframes floating {
    from { transform: translate(0,  0px); }
    to   { transform: translate(-500px, 0px); }    
  }

  &.onboarding-1 .bg1 {
    background-position: 50% 25%;
  }

  &.onboarding-2 .bg1 {
    background-position: 50% 75%;
  }

  &:not(.onboarding-4) body::before {
    content: "";
    z-index: 0;
    position: absolute;
    display: block;
    top: 0;
    left: 0;
    bottom: 0;
    right: 0;
    background-image: url("../img/onboarding-bg/onboarding-bg-1@3x.png");
    background-repeat: no-repeat;
    background-position-x: left;
    background-position-y: calc(100% - 20px);
    background-size: 100%;
    opacity: 0.5;
  }

  // slightly better, but not ideal
  &.dark-background body::after {
    opacity: 1;
  }

  .bg1::after {
    content: "";
    z-index: -1;
    position: absolute;
    display: block;
    top: 0;
    left: 0;
    bottom: 0;
    right: 0;
    -webkit-backdrop-filter: blur(200px);
    backdrop-filter: blur(200px);
    background-color: rgba(255, 255, 255, 0.5);
  }

  &.onboarding-1 body::before {
    background-image: url("../img/onboarding-bg/onboarding-bg-2@3x.png");
  }

  &.onboarding-2 body::before {
    background-image: url("../img/onboarding-bg/onboarding-bg-3@3x.png");
  }

  article, .everything {
    padding: 0 1rem;
    margin-bottom: 0;
    display: flex;
    flex-direction: column;
    align-items: center;
    // background-color: green;
  }

  article {
    height: 100%;
    justify-content: space-around;
  }

  .everything {
    padding: 0;
    height: 100%;
    margin-top: calc(50vh - 1rem);
    margin-bottom: calc(35vh);
    justify-content: space-around;

    @include se {
      margin-top: calc(40vh - 1rem);
    }
  }

  &.onboarding-1 .everything {
    margin-top: calc(40vh - 1rem);
  }

  h1, h2 {
    color: var(--logo3);
    font-size: 2rem;
    font-family: PTSerif-Bold;
    font-weight: inherit;
    line-height: 1;
    margin-top: 0;
    margin-bottom: 0;
    text-align: center;
    // height: calc(50% - 250px);
  }

  h2 {
    font-size: 1.5rem;
  }

  &:not(.onboarding-3) {
    div.everything::before, h2::before {
      content: "";
      display: block;
      position: absolute;
      width: 100%;
      height: 20vh;
      top: 25%;
      transform: translateY(-50%);
      background-image: url("../img/ream@2x.png");
      background-size: contain;
      background-repeat: no-repeat;
      background-position: center;
    }
  }

  hr {
    border-top-style: none;
    margin: 2em;
  }

  &.onboarding-0 div.content {
    align-self: flex-end;
    width: 66%;

    p {
      text-align: right;
    }
  }

  div.content {
    align-self: center;
    width: 100%;
    p {
      text-align: left;
    }
  }

  // &.onboarding-2 div.content {
  //   align-self: flex-start;
  //   width: 50%;

  //   p {
  //     text-align: left;
  //   }
  // }

  p {
    font-family: "IBMPlexSans";
    color: var(--text);
    font-size: 0.666rem;
    line-height: 1rem;
    margin: 0 0 1rem;

    strong {
      font-family: "IBMPlexSans-Bold";
    }
    em {
      font-family: "IBMPlexSans-Italic";
    }

    &.subhead {
      color: var(--logo3);
      margin-bottom: 8vh;
    }
  }

  a {
    color: var(--text);
  }

  .swipe {
    position: absolute;
    width: 100%;
    bottom: 1rem;
    text-align: center;
    font-size: 0.5rem;
    font-family: "IBMPlexSans-Italic";
    color: var(--text);
  }

  img {
    display: block;
    margin: -1rem auto 1rem;
    max-width: 100%;
  }

  &.dark-background {
    body {
      background-color: hsl(240, 0%, 0%);
      color: hsl(0, 0%, 90%);
      &, a, a:active, a:visited {
        color: hsl(0, 0%, 90%);
      }
    }
  }
}

html.onboarding.onboarding-1:not(.dark-background) body {
  background-color: var(--logo2);

  h1 {
    color: var(--bg);
  }
}

html.onboarding.onboarding-2:not(.dark-background) body {
  background-color: var(--logo1);

  h2 {
    color: var(--logo1);
  }
  p {
    color: var(--logo3);
  }
}

.web {
  &.font-size-3 {
    font-size: 28px;
  }

  &.hasCoverImage .coverHolder {
    position: relative; 
    top: 0; 
    left: 0; 
    width: 100vw; 
    display: flex;
    align-items: flex-end;
  }
  
  .itemTitle {
    margin: 1rem auto 0;
    width: 27rem; // I assume there is 1rem of horizontal padding somewhere on the article 
    z-index: 2;
    position: relative;
    
    h1, h2, h3, h4, h5 {
      line-height: 1.1;
    }
  
    p {
      font-size: 0.7rem;
    }
  
    .date-published {
      font-size: 0.6rem;
      font-family: "IBMPlexMono-Light" !important;
    }
  
    &.center {
      text-align: center;
      margin-left: auto;
      margin-right: auto;
    }
    
    &.isUpperCase h1 {
      text-transform: uppercase;
    }
  
  
    &.bg.hasCoverImage h1 {
      background-color: rgba(255,255,255,0.9);
      color: black;
      padding: 0.5rem;
    }

    &.center::after {
      margin: 0 calc(50% - 50vw) 2rem;
    }
  
  }

  &.hasCoverImage .itemTitle {
    color: white;
    display: flex;
    flex-direction: column;
    justify-content: flex-end;
    margin: 1rem 0 0;
    max-width: 900px;

    &.center h1 {
      text-align: center;
      // max-width: 900px;
    }

    &.top {
      top: 0;
      bottom: auto;
    }

    &.middle {
      top: 50%;
      transform: translateY(-50%);
    }

    &.bg h1 {
      background-color: white;
      padding: 1rem;
      border-radius: 1rem;
      color: black;
    }
  }

  &.hasCoverImage .itemTitle::after {
    content: "";
    position: absolute;
    top: 0;
    left: 0;
    margin-bottom: 2rem;
    // not sure why that 4vw was there?
    width: calc(100vw/* + 4vw*/);
    height: calc(100% + 2rem);
    z-index: -1;
    background: linear-gradient(0deg, rgba(0, 0, 0, 0.5) 40%, rgba(0, 0, 0, 0.3) 80%, rgba(0, 0, 0, 0) 100%);
  }

  @media screen and (min-width: 32rem) {
    .itemTitle {
      padding: 1rem;
      margin-top: 0;
      margin-bottom: 0;

      &.hasCoverImage & {
        margin: 0;
      }
    }
  }
  
  .hasCoverImage .coverImage {
    position: fixed;
    top: 0;
    width: 100%;
    max-height: 100%;
    // z-index: -1;
    background-repeat: no-repeat;
    // background-size: cover;
    background-position: center;
    background-color: var(--feed-color);
  }
  
  .articleHolder {
    background-color: hsl(60, 17%, 96%);
    position: relative;
    z-index: 2;
  
    .dark-background & {
      background-color: hsl(240, 0%, 0%);
    }
  }
  
  h1, h2, h3, h4 {
    font-weight: normal;
  }
  
  .itemTitle h4 {
    font-size: 0.8rem;
  }

  .itemArticle {
    max-width: 28rem;
    
    figure, img, video, iframe, pre {
      &:not(.specificity-breaker):not(.img-small):not(.img-tiny) {
        width: 100% !important;
        left: 0 !important;
        margin-right: 0 !important;
      }
    }
    
    figcaption {
      padding: 0;
      margin: 0;
    }
    
    table, th, td {
      max-width: 28rem !important;
    }

    img.img-portrait:not(.img-tiny), img.img-small {
      width: 100% !important;
      margin: 1rem 0 !important;
      left: 0;
    }
  }

  input:focus {
    outline: 1px solid rgba(255,255,255,0.3);
  }
}

